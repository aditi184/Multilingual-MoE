{
  "streams": [
    {
      "name": "v1_small",
      "documents": [
        "pretraining-data/sources/common-crawl/v1-small/documents/*"
      ],
      "output": {
        "path": "pretraining-data/sources/common-crawl/v1-small-c4-filtered/documents",
        "max_size_in_bytes": 1,
        "discard_fields": ["attributes", "metadata", "added", "created"]
      },
      "attributes": [
        "c4_rules",
        "decontamination"
      ],
      "filter": {
        "include": [],
        "exclude": [
          "$.attributes[?(@.bff_duplicate_paragraph_spans && @.bff_duplicate_paragraph_spans[0] && @.bff_duplicate_paragraph_spans[0][2] >= 1.0)]",
          "$.attributes[?(@.c4_rules__c4_v1__has_naughty_word && @.c4_rules__c4_v1__has_naughty_word[0] && @.c4_rules__c4_v1__has_naughty_word[0][2] > 0.5)]",
          "$.attributes[?(@.c4_rules__c4_v1__has_javascript && @.c4_rules__c4_v1__has_javascript[0] && @.c4_rules__c4_v1__has_javascript[0][2] > 0.5)]",
          "$.attributes[?(@.c4_rules__c4_v1__has_lorem_ipsum && @.c4_rules__c4_v1__has_lorem_ipsum[0] && @.c4_rules__c4_v1__has_lorem_ipsum[0][2] > 0.5)]",
          "$.attributes[?(@.c4_rules__c4_v1__has_curly_brace && @.c4_rules__c4_v1__has_curly_brace[0] && @.c4_rules__c4_v1__has_curly_brace[0][2] > 0.5)]",
          "$.attributes[?(@.c4_rules__c4_v1__line_count && @.c4_rules__c4_v1__line_count[0] && @.c4_rules__c4_v1__line_count[0][2] < 5)]"
        ]
      }
    }
  ],
  "work_dir": {
    "input": "/data1/work/input",
    "output": "/data2/work/output"
  },
  "processes": 128
}
